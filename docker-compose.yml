version: '3.8'

services:
  # Your Go backend API
  backend:
    build: ./scraper
    container_name: resonance-backend
    ports:
      - "3001:8080"  # Maps VPS port 3001 to container port 8080
    volumes:
      - ./songs:/app/songs  # Persists songs data on VPS
    environment:
      - SONGS_DIR=/app/songs
      - ADDR=:8080
    restart: unless-stopped  # Auto-restart if it crashes